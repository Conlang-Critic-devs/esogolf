#[derive(Debug, Clone, Eq, PartialEq)]
pub enum Command {
    Value(String),
    BeginBlock,
    EndBlock,
    EmptyBlock,
    True,
    False,
    NullVal,
    Size,
    Dup,
    Not,
    If,
    Assign,
    ApplyFunction,
    Read,
    Swap,
    Grab,
    DupGrab,
    Include,
    Drop,
    CastNum,
    Eq,
    Neq,
    Write,
    Print,
    Or,
    And,
    Add,
    Sub,
    Mul,
    Div,
    Rem,
}

use self::Command::*;

impl Command {
    pub fn from_str(cmd: &str) -> Self {
        match &*cmd.to_lowercase() {
            "{"|"["|"do" => BeginBlock,
            "}"|"]"|"end" => EndBlock,
            "{}"|"[]"|"nop" => EmptyBlock,
            "require"|"load"|"import"|"include" => Include,
            "t" | "true" => True,
            "f" | "false" => False,
            "¤" | "null" | "nil" => NullVal,
            "size" => Size,
            ";" | "dup" => Dup,
            "!" | "not" => Not,
            "?" | "if" => If,
            ":=" | "<-" | "assign" => Assign,
            "()" | "apply" => ApplyFunction,
            "<" | "read" => Read,
            "$" | "swap" | "exch" => Swap,
            "£" | "grab" => Grab,
            ":" | "dupgrab" => DupGrab,
            "drop" => Drop,
            "#" | "num" => CastNum,
            "==" | "=" | "eq" => Eq,
            "!=" | "~=" | "neq" => Neq,
            ">" | "wrte" => Write,
            "_" | "prnt" => Print,
            "||" | "|" | "or" => Or,
            "&&" | "&" | "and" => And,
            "+" | "add" => Add,
            "-" | "sub" => Sub,
            "*" | "mul" => Mul,
            "/" | "div" => Div,
            "%" | "rem" => Rem,
            _ => Value(cmd.to_owned())
        }
    }
}
